\usepackage{color}    % coloring text
\usepackage{listings} % typesetting source code
\usepackage{soul}     % change background of inline source code
\usepackage{textcomp} % upright quotes

% Custom indentation in list of listings
\makeatletter
\renewcommand*\l@lstlisting{\@dottedtocline{1}{0em}{2.5em}}
\makeatother

% Color definitions
\definecolor{background}{RGB}{240,240,240}
\definecolor{foreground}{RGB}{56,56,56}
\definecolor{keyword}{RGB}{244,160,32}
\definecolor{string}{RGB}{50,153,50}
\definecolor{comment}{RGB}{148,148,148}

% Custom inline \texttt size, color and background
\makeatletter
\DeclareRobustCommand\ttfamily{\not@math@alphabet\ttfamily\mathtt\fontfamily\ttdefault\color{foreground}\small\selectfont}
\makeatother
\sethlcolor{background}
\renewcommand{\texttt}[1]{\hl{\ttfamily#1}}

% Listing settings
\lstloadlanguages{C++, Matlab, Python, Verilog}
\lstset{
  backgroundcolor    = {\color{background}},
  basewidth          = 0.95ex,
  basicstyle         = {\ttfamily\footnotesize\color{foreground}},
  commentstyle       = {\color{comment}},
  frame              = tb,
  framerule          = 0pt,
  framexleftmargin   = 1mm,
  framextopmargin    = 1mm,
  framexbottommargin = 1mm,
  keywordstyle       = {\color{keyword}},
  showstringspaces   = false,
  stringstyle        = {\color{string}},
  upquote            = true
}
